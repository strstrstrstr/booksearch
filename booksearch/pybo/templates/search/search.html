{% extends 'base.html' %}
{% block content %}
<style>
    @import url(https://fonts.googleapis.com/css?family=PT+Sans:400,700);


body{
	padding-top:-1px;
	height:100%;
    background: linear-gradient(90deg, #00c6ff 10%, #0072ff 90%);
	font-family: 'PT Sans', Helvetica, Arial, sans-serif;
}
h1 {
	text-shadow: 1px 1px 10px rgba(black, .5);
	padding-top:50px;
}

h1, h2 {
	text-align: center;
	color: white;
	font-size: 2.5em;
	line-height: 1.3em;
	font-weight: 300;
}

h2 {
	margin-top: 100px;
	font-size: 1.3em;
	font-style: italic;
	font-weight: 100;
}

.body {
	width: 100%;
	height: 250px;
	box-sizing: border-box;
}

input {
	box-sizing: border-box;
	font-size: 13px;
	vertical-align: top;
}

.wrapper {
	text-align: center;
	position: relative;
	height: 80px;
	font-size: 0;
	top: 50%;
	transform: translateY(-50%);
}

.search {
	padding: 0 30px;
	font-size: 18px;
	width: 60%;
	max-width: 400px;
	height: 80px;
	border: 1px solid darken(white, 30%);
	border-radius: 20px 0 0 20px;
}

.submit {
	cursor: pointer;
	border: none;
	background: url('http://thesuiteworld.com/wp-admin/maint/search-icon-white-png-540.png') no-repeat center center, #1E1E20;
	background-size: 35px 35px;
	border-radius: 0 20px 20px 0;
	padding: 15px 25px;
	display: inline-block;
	width: 150px;
	height: 80px;
}
</style>
<div class="container my-3">
   <div class="body">
	<h1> 도서관 책 검색</h1>
	<div class="wrapper">
		<form id="search-area" action="{{ url_for('search.search_list')}}" method="post">
			<input class="search" type="text" id="search" name="bookNm"/>
			<input class="submit" type="button" value=" " ><span class="text-white">검색</span> </input>
		</form>
	</div>
</div>
<!--    <h2>Click search to reset</h2>-->
</div>

<script>
$(document).ready(function() {
var ph = "{{bestSeller}}",
	searchBar = $('#search'),
	// placeholder loop counter
	phCount = 0;

// function to return random number between
// with min/max range
function randDelay(min, max) {
	return Math.floor(Math.random() * (max-min+1)+min);
}

// function to print placeholder text in a
// 'typing' effect
var arr
function printLetter(string, el) {
	// split string into character seperated array
	 arr = string.split(''),
		input = el,
		// store full placeholder
		origString = string,
		// get current placeholder value
		curPlace = $(input).attr("placeholder"),
		// append next letter to current placeholder
		placeholder = curPlace + arr[phCount];

	setTimeout(function(){
		console.log(phCount)
		// print placeholder text
		$(input).attr("placeholder", placeholder);
		// increase loop count
		phCount++;
		// run loop until placeholder is fully printed
		if (phCount < arr.length) {
			printLetter(origString, input);
		}
	// use random speed to simulate
	// 'human' typing
	}, randDelay(50, 90));
}

// function to init animation
function placeholder() {
	$(searchBar).attr("placeholder", "");
	printLetter(ph, searchBar);
}

placeholder();
$('.submit').click(function(e){
	if (phCount == arr.length) {
		var bookNm = $('#search').val() == '' ? $('#search').attr('placeholder') : $('#search').val()
		$('#search').val(bookNm);
		phCount = 0;

		$('#search-area').submit()
<!--		e.preventDefault();-->
<!--		placeholder();-->
	}
});
});
</script>
{% endblock %}
